{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleDelete","map","name","number","onClick","id","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","deleteById","delete","updatePerson","personUrl","put","Notification","message","warning","notificationStyle","backgroundColor","fontSize","borderStyle","borderRadius","padding","marginBottom","style","color","borderColor","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","filteredPersons","setFilteredPersons","notification","setNotification","setWarning","useEffect","initialPersons","showNotification","setTimeout","window","confirm","p","catch","error","event","target","toLowerCase","includes","preventDefault","personObject","existName","find","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.26ffaa97.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      filter shown with <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ person, handleDelete }) => {\n  return person.map(person => (\n    <p key={person.id}>\n      {person.name} {person.number}{' '}\n      <button onClick={() => handleDelete(person)} key={`btn${person.id}`}>\n        delete\n      </button>\n    </p>\n  ));\n};\n\nexport default Person;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst deleteById = id => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst updatePerson = (id, newObject) => {\n  const personUrl = `${baseUrl}/${id}`;\n  return axios.put(personUrl, newObject).then(response => response.data);\n};\n\nconst personService = {\n  getAll,\n  create,\n  deleteById,\n  updatePerson,\n};\nexport default personService;\n","import React from 'react';\n\nconst Notification = ({ message, warning }) => {\n  const notificationStyle = {\n    backgroundColor: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  const sucessStyle = {\n    color: 'green',\n    borderColor: 'green',\n  };\n\n  const warningStyle = {\n    color: 'red',\n    borderColor: 'red',\n  };\n\n  if (message === null) {\n    return null;\n  }\n  return (\n    <div\n      style={\n        warning\n          ? { ...notificationStyle, ...warningStyle }\n          : { ...notificationStyle, ...sucessStyle }\n      }\n    >\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Person from './components/Person';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [filteredPersons, setFilteredPersons] = useState(persons);\n  const [notification, setNotification] = useState(null);\n  const [warning, setWarning] = useState(false);\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const showNotification = message => {\n    setNotification(message);\n    setTimeout(() => {\n      setNotification(null);\n      setWarning(false);\n    }, 5000);\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    const existName = persons.find(\n      p => p.name.toLowerCase() === personObject.name.toLowerCase()\n    );\n\n    if (existName) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new number?`\n        )\n      ) {\n        personService\n          .updatePerson(existName.id, personObject)\n          .then(response => {\n            setPersons(\n              persons.map(person =>\n                person.id !== response.id ? person : response\n              )\n            );\n            showNotification(`${response.name}'s phone number is updated.`);\n          })\n          .catch(error => {\n            setWarning(true);\n            showNotification(\n              `Information of ${existName.name} has already removed from server`\n            );\n          });\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response));\n          showNotification(`${response.name} added to phonebook.`);\n        })\n        .catch(error => {\n          setWarning(true);\n          showNotification(\n            `Failed to add a person. Error message: ${error.response.data.error}`\n          );\n          console.log(error.response.data);\n        });\n    }\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = event => {\n    setFilter(event.target.value);\n    setFilteredPersons(\n      persons.filter(\n        person =>\n          person.name\n            .toLowerCase()\n            .includes(event.target.value.toLowerCase()) || filter === ''\n      )\n    );\n  };\n\n  const handleDelete = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .deleteById(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id));\n          showNotification(`Information of ${person.name} is deleted.`);\n        })\n        .catch(error => {\n          setWarning(true);\n          showNotification(`Failed to delete person. Error meassage: ${error}`);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {notification && (\n        <Notification message={notification} warning={warning} />\n      )}\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <div>\n        {filter === '' ? (\n          <Person person={persons} handleDelete={handleDelete} />\n        ) : (\n          <Person person={filteredPersons} handleDelete={handleDelete} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}